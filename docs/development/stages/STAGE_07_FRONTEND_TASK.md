# ะญัะฐะฟ 7: ะะตะฝะตัะฐัะธั ะบะพะฝัะตะฝัะฐ (AI) - ะะฐะดะฐะฝะธะต ะดะปั ััะพะฝัะตะฝะดะฐ

## ๐ ะะฑะทะพั

ะญัะฐะฟ 7 ะดะพะฑะฐะฒะปัะตั ะฒะพะทะผะพะถะฝะพััั ะณะตะฝะตัะฐัะธะธ ะบะพะฝัะตะฝัะฐ ะดะปั ัะปะพะฒ ัะตัะตะท AI:
- **ะญัะธะผะพะปะพะณะธั** โ ะฟัะพะธััะพะถะดะตะฝะธะต ัะปะพะฒะฐ
- **ะะพะดัะบะฐะทะบะธ** โ ัะตะบััะพะฒัะต ะธ ะฐัะดะธะพ ะฟะพะดัะบะฐะทะบะธ
- **ะัะตะดะปะพะถะตะฝะธั** โ ะฟัะธะผะตัั ะธัะฟะพะปัะทะพะฒะฐะฝะธั ัะปะพะฒะฐ
- **ะกะธะฝะพะฝะธะผั** โ ะณะตะฝะตัะฐัะธั ัะฒัะทะฐะฝะฝัั ัะปะพะฒ

**ะะตะบะตะฝะด ะณะพัะพะฒ!** ะัะต API ัะฝะดะฟะพะธะฝัั ัะตะฐะปะธะทะพะฒะฐะฝั ะธ ะฟัะพัะตััะธัะพะฒะฐะฝั.

---

## ๐ฏ ะฆะตะปั

ะกะพะทะดะฐัั UI ะดะปั ะณะตะฝะตัะฐัะธะธ ะธ ะพัะพะฑัะฐะถะตะฝะธั AI-ะบะพะฝัะตะฝัะฐ ะดะปั ัะปะพะฒ. ะคัะฝะบัะธะพะฝะฐะป ะดะพะปะถะตะฝ ะฑััั ะดะพัััะฟะตะฝ:
1. ะ ัะตะถะธะผะต ะธะทััะตะฝะธั ัะปะพะฒะฐ (Learning Mode)
2. ะะฐ ัััะฐะฝะธัะต ะดะตัะฐะปะตะน ัะปะพะฒะฐ
3. ะ ัะตะดะฐะบัะพัะต ัะปะพะฒะฐ (ะพะฟัะธะพะฝะฐะปัะฝะพ)

---

## ๐ก API ะญะฝะดะฟะพะธะฝัั (ะณะพัะพะฒั)

### 1. ะะตะฝะตัะฐัะธั ััะธะผะพะปะพะณะธะธ
```
POST /api/training/generate-etymology/
Body: { word_id: number, force_regenerate?: boolean }
Response: { word_id, etymology, tokens_spent, balance_after }
```

### 2. ะะตะฝะตัะฐัะธั ะฟะพะดัะบะฐะทะบะธ
```
POST /api/training/generate-hint/
Body: { word_id: number, force_regenerate?: boolean, generate_audio?: boolean }
Response: { word_id, hint_text, hint_audio_url?, tokens_spent, balance_after }
```

### 3. ะะตะฝะตัะฐัะธั ะฟัะตะดะปะพะถะตะฝะธะน
```
POST /api/training/generate-sentence/
Body: { word_id: number, count?: number (1-5), context?: string }
Response: { word_id, sentences: string[], tokens_spent, balance_after }
```

### 4. ะะตะฝะตัะฐัะธั ัะธะฝะพะฝะธะผะฐ
```
POST /api/training/generate-synonym/
Body: { word_id: number, create_card?: boolean }
Response: { original_word_id, synonym_word: Word, relation_created, tokens_spent, balance_after }
```

---

## ๐๏ธ ะกัััะบัััะฐ ัะฐะนะปะพะฒ

```
frontend/src/
โโโ services/
โ   โโโ ai-generation.service.ts    # ะะพะฒัะน ัะตัะฒะธั ะดะปั API ะฒัะทะพะฒะพะฒ
โโโ components/
โ   โโโ ai/
โ   โ   โโโ EtymologyGenerator.tsx      # ะะพะผะฟะพะฝะตะฝั ะณะตะฝะตัะฐัะธะธ ััะธะผะพะปะพะณะธะธ
โ   โ   โโโ HintGenerator.tsx           # ะะพะผะฟะพะฝะตะฝั ะณะตะฝะตัะฐัะธะธ ะฟะพะดัะบะฐะทะบะธ
โ   โ   โโโ SentenceGenerator.tsx      # ะะพะผะฟะพะฝะตะฝั ะณะตะฝะตัะฐัะธะธ ะฟัะตะดะปะพะถะตะฝะธะน
โ   โ   โโโ SynonymGenerator.tsx       # ะะพะผะฟะพะฝะตะฝั ะณะตะฝะตัะฐัะธะธ ัะธะฝะพะฝะธะผะฐ
โ   โ   โโโ AIGenerationButton.tsx     # ะฃะฝะธะฒะตััะฐะปัะฝะฐั ะบะฝะพะฟะบะฐ ะณะตะฝะตัะฐัะธะธ
โ   โโโ word/
โ       โโโ WordDetailTabs.tsx         # ะะฑะฝะพะฒะธัั: ะดะพะฑะฐะฒะธัั ัะฐะฑั ะดะปั AI ะบะพะฝัะตะฝัะฐ
โโโ pages/
โ   โโโ WordDetailPage.tsx              # ะะพะฒัะน/ะพะฑะฝะพะฒะธัั: ัััะฐะฝะธัะฐ ะดะตัะฐะปะตะน ัะปะพะฒะฐ
โโโ types/
    โโโ index.ts                         # ะะฑะฝะพะฒะธัั: ะดะพะฑะฐะฒะธัั ัะธะฟั ะดะปั AI ะณะตะฝะตัะฐัะธะธ
```

---

## ๐ ะะฐะดะฐัะธ

### 1. ะขะธะฟั TypeScript

**ะคะฐะนะป:** `frontend/src/types/index.ts`

ะะพะฑะฐะฒะธัั ะธะฝัะตััะตะนัั:

```typescript
// ะะฐะฟัะพัั
export interface GenerateEtymologyRequest {
  word_id: number;
  force_regenerate?: boolean;
}

export interface GenerateHintRequest {
  word_id: number;
  force_regenerate?: boolean;
  generate_audio?: boolean;
}

export interface GenerateSentenceRequest {
  word_id: number;
  count?: number; // 1-5
  context?: string;
}

export interface GenerateSynonymRequest {
  word_id: number;
  create_card?: boolean;
}

// ะัะฒะตัั
export interface GenerateEtymologyResponse {
  word_id: number;
  etymology: string;
  tokens_spent: number;
  balance_after: number;
}

export interface GenerateHintResponse {
  word_id: number;
  hint_text: string;
  hint_audio_url?: string | null;
  tokens_spent: number;
  balance_after: number;
}

export interface GenerateSentenceResponse {
  word_id: number;
  sentences: string[];
  tokens_spent: number;
  balance_after: number;
}

export interface GenerateSynonymResponse {
  original_word_id: number;
  synonym_word: Word;
  relation_created: boolean;
  tokens_spent: number;
  balance_after: number;
}
```

---

### 2. ะกะตัะฒะธั ะดะปั API ะฒัะทะพะฒะพะฒ

**ะคะฐะนะป:** `frontend/src/services/ai-generation.service.ts`

ะกะพะทะดะฐัั ัะตัะฒะธั ั ะผะตัะพะดะฐะผะธ:

```typescript
import api from './api';
import {
  GenerateEtymologyRequest,
  GenerateEtymologyResponse,
  GenerateHintRequest,
  GenerateHintResponse,
  GenerateSentenceRequest,
  GenerateSentenceResponse,
  GenerateSynonymRequest,
  GenerateSynonymResponse,
} from '../types';

class AIGenerationService {
  /**
   * ะะตะฝะตัะฐัะธั ััะธะผะพะปะพะณะธะธ ะดะปั ัะปะพะฒะฐ
   */
  async generateEtymology(
    request: GenerateEtymologyRequest
  ): Promise<GenerateEtymologyResponse> {
    const response = await api.post<GenerateEtymologyResponse>(
      '/api/training/generate-etymology/',
      request
    );
    return response.data;
  }

  /**
   * ะะตะฝะตัะฐัะธั ะฟะพะดัะบะฐะทะบะธ (ัะตะบัั + ะฐัะดะธะพ)
   */
  async generateHint(
    request: GenerateHintRequest
  ): Promise<GenerateHintResponse> {
    const response = await api.post<GenerateHintResponse>(
      '/api/training/generate-hint/',
      request
    );
    return response.data;
  }

  /**
   * ะะตะฝะตัะฐัะธั ะฟัะตะดะปะพะถะตะฝะธะน
   */
  async generateSentences(
    request: GenerateSentenceRequest
  ): Promise<GenerateSentenceResponse> {
    const response = await api.post<GenerateSentenceResponse>(
      '/api/training/generate-sentence/',
      request
    );
    return response.data;
  }

  /**
   * ะะตะฝะตัะฐัะธั ัะธะฝะพะฝะธะผะฐ
   */
  async generateSynonym(
    request: GenerateSynonymRequest
  ): Promise<GenerateSynonymResponse> {
    const response = await api.post<GenerateSynonymResponse>(
      '/api/training/generate-synonym/',
      request
    );
    return response.data;
  }
}

export const aiGenerationService = new AIGenerationService();
```

---

### 3. ะะพะผะฟะพะฝะตะฝั: ะฃะฝะธะฒะตััะฐะปัะฝะฐั ะบะฝะพะฟะบะฐ ะณะตะฝะตัะฐัะธะธ

**ะคะฐะนะป:** `frontend/src/components/ai/AIGenerationButton.tsx`

ะะตัะตะธัะฟะพะปัะทัะตะผัะน ะบะพะผะฟะพะฝะตะฝั ะดะปั ะฒัะตั ัะธะฟะพะฒ ะณะตะฝะตัะฐัะธะธ:

```typescript
interface AIGenerationButtonProps {
  wordId: number;
  type: 'etymology' | 'hint' | 'sentence' | 'synonym';
  onSuccess?: (data: any) => void;
  onError?: (error: Error) => void;
  disabled?: boolean;
  variant?: 'default' | 'outline' | 'ghost';
  size?: 'sm' | 'md' | 'lg';
  children?: React.ReactNode;
  // ะะพะฟะพะปะฝะธัะตะปัะฝัะต ะฟะฐัะฐะผะตััั ะดะปั ัะฐะทะฝัั ัะธะฟะพะฒ
  generateAudio?: boolean; // ะดะปั hint
  sentenceCount?: number; // ะดะปั sentence
  createCard?: boolean; // ะดะปั synonym
}
```

**ะคัะฝะบัะธะพะฝะฐะป:**
- ะะพะบะฐะท ัะพััะพัะฝะธั ะทะฐะณััะทะบะธ (spinner)
- ะะฑัะฐะฑะพัะบะฐ ะพัะธะฑะพะบ (ะฝะตะดะพััะฐัะพะบ ัะพะบะตะฝะพะฒ, ะพัะธะฑะบะธ API)
- ะะฑะฝะพะฒะปะตะฝะธะต ะฑะฐะปะฐะฝัะฐ ัะพะบะตะฝะพะฒ ะฟะพัะปะต ะณะตะฝะตัะฐัะธะธ
- Toast ัะฒะตะดะพะผะปะตะฝะธั ะพะฑ ััะฟะตัะต/ะพัะธะฑะบะต
- ะะปะพะบะธัะพะฒะบะฐ ะบะฝะพะฟะบะธ ะฒะพ ะฒัะตะผั ะณะตะฝะตัะฐัะธะธ

---

### 4. ะะพะผะฟะพะฝะตะฝั: ะะตะฝะตัะฐัะธั ััะธะผะพะปะพะณะธะธ

**ะคะฐะนะป:** `frontend/src/components/ai/EtymologyGenerator.tsx`

**ะคัะฝะบัะธะพะฝะฐะป:**
- ะะพะบะฐะท ัััะตััะฒัััะตะน ััะธะผะพะปะพะณะธะธ (ะตัะปะธ ะตััั)
- ะะฝะพะฟะบะฐ "ะกะณะตะฝะตัะธัะพะฒะฐัั ััะธะผะพะปะพะณะธั"
- ะะฝะพะฟะบะฐ "ะะตัะตะณะตะฝะตัะธัะพะฒะฐัั" (ะตัะปะธ ััะธะผะพะปะพะณะธั ัะถะต ะตััั)
- ะะฝะดะธะบะฐัะพั ะทะฐะณััะทะบะธ
- ะัะพะฑัะฐะถะตะฝะธะต ะพัะธะฑะพะบ (ะฝะตะดะพััะฐัะพะบ ัะพะบะตะฝะพะฒ ะธ ั.ะด.)
- ะะฑะฝะพะฒะปะตะฝะธะต ััะธะผะพะปะพะณะธะธ ะฟะพัะปะต ััะฟะตัะฝะพะน ะณะตะฝะตัะฐัะธะธ

**UI:**
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ๐ ะญัะธะผะพะปะพะณะธั                        โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ [ะขะตะบัั ััะธะผะพะปะพะณะธะธ ะธะปะธ ะฟัััะพ]        โ
โ                                     โ
โ [๐ฎ ะกะณะตะฝะตัะธัะพะฒะฐัั ััะธะผะพะปะพะณะธั]       โ
โ ะธะปะธ                                 โ
โ [๐ ะะตัะตะณะตะฝะตัะธัะพะฒะฐัั]                โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

### 5. ะะพะผะฟะพะฝะตะฝั: ะะตะฝะตัะฐัะธั ะฟะพะดัะบะฐะทะบะธ

**ะคะฐะนะป:** `frontend/src/components/ai/HintGenerator.tsx`

**ะคัะฝะบัะธะพะฝะฐะป:**
- ะะพะบะฐะท ัะตะบััะพะฒะพะน ะฟะพะดัะบะฐะทะบะธ
- ะะปะตะตั ะดะปั ะฐัะดะธะพ ะฟะพะดัะบะฐะทะบะธ (ะตัะปะธ ะตััั)
- ะะฝะพะฟะบะฐ "ะกะณะตะฝะตัะธัะพะฒะฐัั ะฟะพะดัะบะฐะทะบั"
- ะะฟัะธั "ะก ะฐัะดะธะพ" (ัะตะบะฑะพะบั)
- ะะฝะพะฟะบะฐ "ะะตัะตะณะตะฝะตัะธัะพะฒะฐัั"
- ะะตะดะฐะบัะธัะพะฒะฐะฝะธะต ัะตะบััะพะฒะพะน ะฟะพะดัะบะฐะทะบะธ (ะฟะพัะปะต ะณะตะฝะตัะฐัะธะธ)

**UI:**
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ๐ก ะะพะดัะบะฐะทะบะฐ                         โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ [ะขะตะบัั ะฟะพะดัะบะฐะทะบะธ ะธะปะธ ะฟัััะพ]         โ
โ                                     โ
โ [๐] [ะัะดะธะพ ะฟะพะดัะบะฐะทะบะฐ]              โ
โ                                     โ
โ โ ะกะณะตะฝะตัะธัะพะฒะฐัั ะฐัะดะธะพ               โ
โ                                     โ
โ [๐ฎ ะกะณะตะฝะตัะธัะพะฒะฐัั ะฟะพะดัะบะฐะทะบั]        โ
โ ะธะปะธ                                 โ
โ [๐ ะะตัะตะณะตะฝะตัะธัะพะฒะฐัั]                โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

### 6. ะะพะผะฟะพะฝะตะฝั: ะะตะฝะตัะฐัะธั ะฟัะตะดะปะพะถะตะฝะธะน

**ะคะฐะนะป:** `frontend/src/components/ai/SentenceGenerator.tsx`

**ะคัะฝะบัะธะพะฝะฐะป:**
- ะกะฟะธัะพะบ ัััะตััะฒัััะธั ะฟัะตะดะปะพะถะตะฝะธะน
- ะะฝะพะฟะบะฐ "ะกะณะตะฝะตัะธัะพะฒะฐัั ะฟัะตะดะปะพะถะตะฝะธั"
- ะัะฑะพั ะบะพะปะธัะตััะฒะฐ (1-5)
- ะะฟัะธะพะฝะฐะปัะฝัะน ะบะพะฝัะตะบัั (ัะตะบััะพะฒะพะต ะฟะพะปะต)
- ะะพะฑะฐะฒะปะตะฝะธะต ะฝะพะฒัั ะฟัะตะดะปะพะถะตะฝะธะน ะบ ัััะตััะฒัััะธะผ
- ะฃะดะฐะปะตะฝะธะต ะฟัะตะดะปะพะถะตะฝะธะน

**UI:**
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ๐ ะัะธะผะตัั ะฟัะตะดะปะพะถะตะฝะธะน               โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ 1. Ich wohne in einem groรen Haus... โ
โ 2. Das Haus hat drei Stockwerke...   โ
โ                                     โ
โ ะะพะปะธัะตััะฒะพ: [1] [2] [3] [4] [5]     โ
โ ะะพะฝัะตะบัั: [_________________]       โ
โ                                     โ
โ [๐ฎ ะกะณะตะฝะตัะธัะพะฒะฐัั ะฟัะตะดะปะพะถะตะฝะธั]      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

### 7. ะะพะผะฟะพะฝะตะฝั: ะะตะฝะตัะฐัะธั ัะธะฝะพะฝะธะผะฐ

**ะคะฐะนะป:** `frontend/src/components/ai/SynonymGenerator.tsx`

**ะคัะฝะบัะธะพะฝะฐะป:**
- ะะฝะพะฟะบะฐ "ะกะณะตะฝะตัะธัะพะฒะฐัั ัะธะฝะพะฝะธะผ"
- ะะพะบะฐะท ัะพะทะดะฐะฝะฝะพะณะพ ัะธะฝะพะฝะธะผะฐ
- ะกััะปะบะฐ ะฝะฐ ัััะฐะฝะธัั ัะธะฝะพะฝะธะผะฐ
- ะะฟัะธั "ะกะพะทะดะฐัั ะบะฐััะพัะบั" (ัะตะบะฑะพะบั)
- ะกะฟะธัะพะบ ัััะตััะฒัััะธั ัะธะฝะพะฝะธะผะพะฒ (ะตัะปะธ ะตััั)

**UI:**
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ๐ ะกะธะฝะพะฝะธะผั                         โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ โข Gebรคude (ะทะดะฐะฝะธะต)                  โ
โ โข Wohnung (ะบะฒะฐััะธัะฐ)                โ
โ                                     โ
โ โ ะกะพะทะดะฐัั ะบะฐััะพัะบั ะดะปั ัะธะฝะพะฝะธะผะฐ     โ
โ                                     โ
โ [๐ฎ ะกะณะตะฝะตัะธัะพะฒะฐัั ัะธะฝะพะฝะธะผ]          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

### 8. ะกััะฐะฝะธัะฐ ะดะตัะฐะปะตะน ัะปะพะฒะฐ

**ะคะฐะนะป:** `frontend/src/pages/WordDetailPage.tsx` (ะฝะพะฒัะน ะธะปะธ ะพะฑะฝะพะฒะธัั ัััะตััะฒัััะธะน)

**ะกัััะบัััะฐ ัััะฐะฝะธัั:**

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ โ ะะฐะทะฐะด    Haus (ะดะพะผ)                โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ [ะขะฐะฑั]                               โ
โ ะัะฝะพะฒะฝะพะต | ะญัะธะผะพะปะพะณะธั | ะัะธะผะตัั |   โ
โ ะะพะดัะบะฐะทะบะธ | ะกะฒัะทะธ | ะะฐะผะตัะบะธ | ะะฐััะพัะบะธโ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ [ะะพะฝัะตะฝั ะฒัะฑัะฐะฝะฝะพะณะพ ัะฐะฑะฐ]            โ
โ                                     โ
โ - ะขะฐะฑ "ะญัะธะผะพะปะพะณะธั":                  โ
โ   <EtymologyGenerator />            โ
โ                                     โ
โ - ะขะฐะฑ "ะัะธะผะตัั":                     โ
โ   <SentenceGenerator />              โ
โ                                     โ
โ - ะขะฐะฑ "ะะพะดัะบะฐะทะบะธ":                   โ
โ   <HintGenerator />                  โ
โ                                     โ
โ - ะขะฐะฑ "ะกะฒัะทะธ":                       โ
โ   <SynonymGenerator />               โ
โ   [ะกะฟะธัะพะบ ัััะตััะฒัััะธั ัะฒัะทะตะน]       โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

**ะขะฐะฑั:**
1. **ะัะฝะพะฒะฝะพะต** โ ัะปะพะฒะพ, ะฟะตัะตะฒะพะด, ะผะตะดะธะฐ, ัะฐััั ัะตัะธ
2. **ะญัะธะผะพะปะพะณะธั** โ ะบะพะผะฟะพะฝะตะฝั `EtymologyGenerator`
3. **ะัะธะผะตัั** โ ะบะพะผะฟะพะฝะตะฝั `SentenceGenerator`
4. **ะะพะดัะบะฐะทะบะธ** โ ะบะพะผะฟะพะฝะตะฝั `HintGenerator`
5. **ะกะฒัะทะธ** โ ะบะพะผะฟะพะฝะตะฝั `SynonymGenerator` + ัะฟะธัะพะบ ัะฒัะทะตะน
6. **ะะฐะผะตัะบะธ** โ ัะตะดะฐะบัะธัะพะฒะฐะฝะธะต ะทะฐะผะตัะพะบ ะฟะพะปัะทะพะฒะฐัะตะปั
7. **ะะฐััะพัะบะธ** โ ัะฟะธัะพะบ ะบะฐััะพัะตะบ ััะพะณะพ ัะปะพะฒะฐ

---

### 9. ะะฝัะตะณัะฐัะธั ะฒ ัะตะถะธะผ ะธะทััะตะฝะธั (Learning Mode)

**ะะดะต:** ะ ะบะพะผะฟะพะฝะตะฝัะต ััะตะฝะธัะพะฒะบะธ (ะฑัะดะตั ัะพะทะดะฐะฝ ะฝะฐ ััะฐะฟะต 10)

**ะคัะฝะบัะธะพะฝะฐะป:**
- ะ ัะตะถะธะผะต ะธะทััะตะฝะธั ะฟะพะบะฐะทัะฒะฐัั ะฒัะต ะบะพะผะฟะพะฝะตะฝัั ะณะตะฝะตัะฐัะธะธ
- ะะพะทะผะพะถะฝะพััั ัะณะตะฝะตัะธัะพะฒะฐัั ะบะพะฝัะตะฝั ะฟััะผะพ ะฒะพ ะฒัะตะผั ะธะทััะตะฝะธั
- ะะฒัะพะผะฐัะธัะตัะบะพะต ะพะฑะฝะพะฒะปะตะฝะธะต ะพัะพะฑัะฐะถะฐะตะผะพะณะพ ะบะพะฝัะตะฝัะฐ ะฟะพัะปะต ะณะตะฝะตัะฐัะธะธ

---

## ๐จ UI/UX ะขัะตะฑะพะฒะฐะฝะธั

### ะะธะทะฐะนะฝ
- iOS 25 ััะธะปั (ัะปะตะดัั ัััะตััะฒัััะตะผั ััะธะปั ะฟัะธะปะพะถะตะฝะธั)
- ะัะฟะพะปัะทะพะฒะฐัั ะบะพะผะฟะพะฝะตะฝัั ะธะท `ui/` (Button, Card, etc.)
- ะะดะฐะฟัะธะฒะฝะพััั ะดะปั ะผะพะฑะธะปัะฝัั ััััะพะนััะฒ

### ะกะพััะพัะฝะธั
1. **ะัััะพะต ัะพััะพัะฝะธะต** โ ะบะพะฝัะตะฝั ะฝะต ัะณะตะฝะตัะธัะพะฒะฐะฝ, ะฟะพะบะฐะทัะฒะฐัั ะบะฝะพะฟะบั ะณะตะฝะตัะฐัะธะธ
2. **ะะฐะณััะทะบะฐ** โ spinner, ะฑะปะพะบะธัะพะฒะบะฐ ะบะฝะพะฟะพะบ
3. **ะฃัะฟะตั** โ ะฟะพะบะฐะท ัะณะตะฝะตัะธัะพะฒะฐะฝะฝะพะณะพ ะบะพะฝัะตะฝัะฐ, toast ัะฒะตะดะพะผะปะตะฝะธะต
4. **ะัะธะฑะบะฐ** โ ะฟะพะบะฐะท ะพัะธะฑะบะธ (ะฝะตะดะพััะฐัะพะบ ัะพะบะตะฝะพะฒ, ะพัะธะฑะบะฐ API), ะบะฝะพะฟะบะฐ ะฟะพะฒัะพัะฐ

### ะะฑัะฐะฑะพัะบะฐ ะพัะธะฑะพะบ
- **ะะตะดะพััะฐัะพะบ ัะพะบะตะฝะพะฒ** โ ะฟะพะบะฐะทะฐัั ัะพะพะฑัะตะฝะธะต ั ะฟัะตะดะปะพะถะตะฝะธะตะผ ะฟะพะฟะพะปะฝะธัั ะฑะฐะปะฐะฝั
- **ะัะธะฑะบะฐ API** โ ะฟะพะบะฐะทะฐัั ัะพะพะฑัะตะฝะธะต ะพะฑ ะพัะธะฑะบะต, ะบะฝะพะฟะบั ะฟะพะฒัะพัะฐ
- **ะกะตัะตะฒัะต ะพัะธะฑะบะธ** โ ะฟะพะบะฐะทะฐัั ัะพะพะฑัะตะฝะธะต, ะบะฝะพะฟะบั ะฟะพะฒัะพัะฐ

### ะฃะฒะตะดะพะผะปะตะฝะธั
- Toast ะฟัะธ ััะฟะตัะฝะพะน ะณะตะฝะตัะฐัะธะธ
- Toast ะฟัะธ ะพัะธะฑะบะต
- ะะฑะฝะพะฒะปะตะฝะธะต ะฑะฐะปะฐะฝัะฐ ัะพะบะตะฝะพะฒ ะฒ ะบะพะฝัะตะบััะต

---

## ๐ ะะฝัะตะณัะฐัะธั ั ัััะตััะฒัััะธะผ ะบะพะดะพะผ

### 1. ะะฑะฝะพะฒะธัั ะบะพะฝัะตะบัั ัะพะบะตะฝะพะฒ

**ะคะฐะนะป:** `frontend/src/contexts/TokenContext.tsx`

ะะพัะปะต ััะฟะตัะฝะพะน ะณะตะฝะตัะฐัะธะธ ะพะฑะฝะพะฒะปััั ะฑะฐะปะฐะฝั:
```typescript
// ะะพัะปะต ััะฟะตัะฝะพะน ะณะตะฝะตัะฐัะธะธ
tokenContext.updateBalance(response.balance_after);
```

### 2. ะะฑะฝะพะฒะธัั ัะธะฟั Word

**ะคะฐะนะป:** `frontend/src/types/index.ts`

ะฃะฑะตะดะธัััั, ััะพ ะธะฝัะตััะตะนั `Word` ัะพะดะตัะถะธั:
```typescript
export interface Word {
  // ... ัััะตััะฒัััะธะต ะฟะพะปั
  etymology?: string;
  hint_text?: string;
  hint_audio?: string;
  sentences?: Array<{ text: string; source: 'ai' | 'user' }>;
  // ...
}
```

### 3. ะะฐะฒะธะณะฐัะธั

ะะพะฑะฐะฒะธัั ะผะฐััััั ะดะปั ัััะฐะฝะธัั ะดะตัะฐะปะตะน ัะปะพะฒะฐ:
```typescript
<Route path="/words/:id" element={<WordDetailPage />} />
```

---

## โ ะัะธัะตัะธะธ ะทะฐะฒะตััะตะฝะธั

- [ ] ะัะต ัะธะฟั TypeScript ะดะพะฑะฐะฒะปะตะฝั
- [ ] ะกะตัะฒะธั `ai-generation.service.ts` ัะพะทะดะฐะฝ ะธ ัะฐะฑะพัะฐะตั
- [ ] ะะพะผะฟะพะฝะตะฝั `AIGenerationButton` ัะพะทะดะฐะฝ ะธ ะฟะตัะตะธัะฟะพะปัะทัะตััั
- [ ] ะะพะผะฟะพะฝะตะฝั `EtymologyGenerator` ัะพะทะดะฐะฝ ะธ ัะฐะฑะพัะฐะตั
- [ ] ะะพะผะฟะพะฝะตะฝั `HintGenerator` ัะพะทะดะฐะฝ ะธ ัะฐะฑะพัะฐะตั
- [ ] ะะพะผะฟะพะฝะตะฝั `SentenceGenerator` ัะพะทะดะฐะฝ ะธ ัะฐะฑะพัะฐะตั
- [ ] ะะพะผะฟะพะฝะตะฝั `SynonymGenerator` ัะพะทะดะฐะฝ ะธ ัะฐะฑะพัะฐะตั
- [ ] ะกััะฐะฝะธัะฐ `WordDetailPage` ัะพะทะดะฐะฝะฐ/ะพะฑะฝะพะฒะปะตะฝะฐ ั ัะฐะฑะฐะผะธ
- [ ] ะะฝัะตะณัะฐัะธั ั `TokenContext` ัะฐะฑะพัะฐะตั
- [ ] ะะฑัะฐะฑะพัะบะฐ ะพัะธะฑะพะบ ัะตะฐะปะธะทะพะฒะฐะฝะฐ
- [ ] Toast ัะฒะตะดะพะผะปะตะฝะธั ัะฐะฑะพัะฐัั
- [ ] UI ัะพะพัะฒะตัััะฒัะตั iOS 25 ััะธะปั
- [ ] ะะดะฐะฟัะธะฒะฝะพััั ะดะปั ะผะพะฑะธะปัะฝัั ััััะพะนััะฒ
- [ ] ะัะต ะบะพะผะฟะพะฝะตะฝัั ะฟัะพัะตััะธัะพะฒะฐะฝั ะฒัััะฝัั

---

## ๐ ะัะธะผะตัะฐะฝะธั

1. **ะขะพะบะตะฝั**: ะัะต ะพะฟะตัะฐัะธะธ ัะฟะธััะฒะฐัั ัะพะบะตะฝั. ะัะถะฝะพ ะฟัะพะฒะตัััั ะฑะฐะปะฐะฝั ะฟะตัะตะด ะณะตะฝะตัะฐัะธะตะน (ะพะฟัะธะพะฝะฐะปัะฝะพ ะฟะพะบะฐะทัะฒะฐัั ะฟัะตะดัะฟัะตะถะดะตะฝะธะต).

2. **ะะฒัะพะผะฐัะธัะตัะบะฐั ะณะตะฝะตัะฐัะธั**: ะญัะธะผะพะปะพะณะธั ะณะตะฝะตัะธััะตััั ะฐะฒัะพะผะฐัะธัะตัะบะธ ะฟัะธ ัะพะทะดะฐะฝะธะธ ัะปะพะฒะฐ. ะ UI ะฝัะถะฝะพ ััะตััั ััะพ ะธ ะฟะพะบะฐะทัะฒะฐัั ัะพััะพัะฝะธะต "ะะตะฝะตัะธััะตััั..." ะธะปะธ "ะกะณะตะฝะตัะธัะพะฒะฐะฝะพ".

3. **ะะตะดะฐะบัะธัะพะฒะฐะฝะธะต**: ะะพัะปะต ะณะตะฝะตัะฐัะธะธ ะฟะพะปัะทะพะฒะฐัะตะปั ะดะพะปะถะตะฝ ะธะผะตัั ะฒะพะทะผะพะถะฝะพััั ัะตะดะฐะบัะธัะพะฒะฐัั:
   - ะขะตะบััะพะฒัั ะฟะพะดัะบะฐะทะบั
   - ะัะตะดะปะพะถะตะฝะธั (ะดะพะฑะฐะฒะปััั/ัะดะฐะปััั)
   - ะะฐะผะตัะบะธ

4. **ะัะดะธะพ**: ะะปั ะฐัะดะธะพ ะฟะพะดัะบะฐะทะบะธ ะธัะฟะพะปัะทะพะฒะฐัั ัััะตััะฒัััะธะน ะบะพะผะฟะพะฝะตะฝั ะฟะปะตะตัะฐ ะธะปะธ ัะพะทะดะฐัั ะฝะพะฒัะน.

5. **ะกะธะฝะพะฝะธะผั**: ะัะธ ะณะตะฝะตัะฐัะธะธ ัะธะฝะพะฝะธะผะฐ ัะพะทะดะฐัััั ะฝะพะฒะพะต ัะปะพะฒะพ. ะัะถะฝะพ ะพะฑะฝะพะฒะธัั ัะฟะธัะพะบ ัะปะพะฒ ะธะปะธ ะฟะตัะตะฝะฐะฟัะฐะฒะธัั ะฝะฐ ัััะฐะฝะธัั ะฝะพะฒะพะณะพ ัะปะพะฒะฐ.

---

## ๐ ะัะธะพัะธัะตัั ัะตะฐะปะธะทะฐัะธะธ

### ะัะธะพัะธัะตั 1 (ะัะฝะพะฒะฝะพะน ััะฝะบัะธะพะฝะฐะป)
- [ ] ะกะตัะฒะธั API
- [ ] ะะพะผะฟะพะฝะตะฝั `EtymologyGenerator`
- [ ] ะะพะผะฟะพะฝะตะฝั `HintGenerator` (ัะพะปัะบะพ ัะตะบัั)
- [ ] ะะพะผะฟะพะฝะตะฝั `SentenceGenerator`
- [ ] ะกััะฐะฝะธัะฐ `WordDetailPage` ั ัะฐะฑะฐะผะธ

### ะัะธะพัะธัะตั 2 (ะะพะฟะพะปะฝะธัะตะปัะฝัะน ััะฝะบัะธะพะฝะฐะป)
- [ ] ะะพะผะฟะพะฝะตะฝั `SynonymGenerator`
- [ ] ะัะดะธะพ ะฟะพะดัะบะฐะทะบะฐ ะฒ `HintGenerator`
- [ ] ะะตะดะฐะบัะธัะพะฒะฐะฝะธะต ัะณะตะฝะตัะธัะพะฒะฐะฝะฝะพะณะพ ะบะพะฝัะตะฝัะฐ
- [ ] ะะฝัะตะณัะฐัะธั ะฒ ัะตะถะธะผ ะธะทััะตะฝะธั

### ะัะธะพัะธัะตั 3 (ะะพะปะธัะพะฒะบะฐ)
- [ ] ะะฝะธะผะฐัะธะธ ะทะฐะณััะทะบะธ
- [ ] ะะฟัะธะผะธััะธัะฝัะต ะพะฑะฝะพะฒะปะตะฝะธั UI
- [ ] ะััะธัะพะฒะฐะฝะธะต ัะตะทัะปััะฐัะพะฒ
- [ ] ะัะปะฐะนะฝ ะพะฑัะฐะฑะพัะบะฐ

---

## ๐ ะัะธะผะตัั ะธัะฟะพะปัะทะพะฒะฐะฝะธั

### ะัะธะผะตั 1: ะะตะฝะตัะฐัะธั ััะธะผะพะปะพะณะธะธ

```typescript
import { aiGenerationService } from '@/services/ai-generation.service';

const handleGenerateEtymology = async () => {
  try {
    setLoading(true);
    const response = await aiGenerationService.generateEtymology({
      word_id: word.id,
      force_regenerate: false,
    });
    setEtymology(response.etymology);
    updateTokenBalance(response.balance_after);
    toast.success('ะญัะธะผะพะปะพะณะธั ััะฟะตัะฝะพ ัะณะตะฝะตัะธัะพะฒะฐะฝะฐ!');
  } catch (error) {
    toast.error('ะัะธะฑะบะฐ ะฟัะธ ะณะตะฝะตัะฐัะธะธ ััะธะผะพะปะพะณะธะธ');
  } finally {
    setLoading(false);
  }
};
```

### ะัะธะผะตั 2: ะะตะฝะตัะฐัะธั ะฟะพะดัะบะฐะทะบะธ ั ะฐัะดะธะพ

```typescript
const handleGenerateHint = async () => {
  try {
    setLoading(true);
    const response = await aiGenerationService.generateHint({
      word_id: word.id,
      generate_audio: true,
    });
    setHintText(response.hint_text);
    setHintAudioUrl(response.hint_audio_url);
    updateTokenBalance(response.balance_after);
    toast.success('ะะพะดัะบะฐะทะบะฐ ััะฟะตัะฝะพ ัะณะตะฝะตัะธัะพะฒะฐะฝะฐ!');
  } catch (error) {
    if (error.message.includes('ะะตะดะพััะฐัะพัะฝะพ ัะพะบะตะฝะพะฒ')) {
      toast.error('ะะตะดะพััะฐัะพัะฝะพ ัะพะบะตะฝะพะฒ. ะะพะฟะพะปะฝะธัะต ะฑะฐะปะฐะฝั.');
    } else {
      toast.error('ะัะธะฑะบะฐ ะฟัะธ ะณะตะฝะตัะฐัะธะธ ะฟะพะดัะบะฐะทะบะธ');
    }
  } finally {
    setLoading(false);
  }
};
```

---

## ๐ ะขะตััะธัะพะฒะฐะฝะธะต

### ะััะฝะพะต ัะตััะธัะพะฒะฐะฝะธะต
1. ะะตะฝะตัะฐัะธั ััะธะผะพะปะพะณะธะธ ะดะปั ะฝะพะฒะพะณะพ ัะปะพะฒะฐ
2. ะะตะฝะตัะฐัะธั ะฟะพะดัะบะฐะทะบะธ (ัะตะบัั + ะฐัะดะธะพ)
3. ะะตะฝะตัะฐัะธั ะฟัะตะดะปะพะถะตะฝะธะน (ัะฐะทะฝัะต ะบะพะปะธัะตััะฒะฐ)
4. ะะตะฝะตัะฐัะธั ัะธะฝะพะฝะธะผะฐ
5. ะะฑัะฐะฑะพัะบะฐ ะพัะธะฑะพะบ (ะฝะตะดะพััะฐัะพะบ ัะพะบะตะฝะพะฒ, ะพัะธะฑะบะธ API)
6. ะะฑะฝะพะฒะปะตะฝะธะต ะฑะฐะปะฐะฝัะฐ ัะพะบะตะฝะพะฒ
7. ะะฐะฒะธะณะฐัะธั ะผะตะถะดั ัะฐะฑะฐะผะธ
8. ะะตะดะฐะบัะธัะพะฒะฐะฝะธะต ัะณะตะฝะตัะธัะพะฒะฐะฝะฝะพะณะพ ะบะพะฝัะตะฝัะฐ

### ะงะตะบ-ะปะธัั
- [ ] ะัะต ะบะฝะพะฟะบะธ ะณะตะฝะตัะฐัะธะธ ัะฐะฑะพัะฐัั
- [ ] ะกะพััะพัะฝะธั ะทะฐะณััะทะบะธ ะพัะพะฑัะฐะถะฐัััั ะบะพััะตะบัะฝะพ
- [ ] ะัะธะฑะบะธ ะพะฑัะฐะฑะฐััะฒะฐัััั ะธ ะฟะพะบะฐะทัะฒะฐัััั ะฟะพะปัะทะพะฒะฐัะตะปั
- [ ] ะะฐะปะฐะฝั ัะพะบะตะฝะพะฒ ะพะฑะฝะพะฒะปัะตััั ะฟะพัะปะต ะณะตะฝะตัะฐัะธะธ
- [ ] Toast ัะฒะตะดะพะผะปะตะฝะธั ะฟะพะบะฐะทัะฒะฐัััั
- [ ] ะัะดะธะพ ะฟะพะดัะบะฐะทะบะฐ ะฒะพัะฟัะพะธะทะฒะพะดะธััั
- [ ] ะัะตะดะปะพะถะตะฝะธั ะดะพะฑะฐะฒะปััััั ะบ ัััะตััะฒัััะธะผ
- [ ] ะกะธะฝะพะฝะธะผั ัะพะทะดะฐัััั ะธ ะพัะพะฑัะฐะถะฐัััั
- [ ] ะะฐะฒะธะณะฐัะธั ัะฐะฑะพัะฐะตั ะบะพััะตะบัะฝะพ
- [ ] UI ะฐะดะฐะฟัะธะฒะตะฝ ะดะปั ะผะพะฑะธะปัะฝัั ััััะพะนััะฒ

---

## ๐ ะะพะฟัะพัั ะธ ััะพัะฝะตะฝะธั

ะัะปะธ ะฒะพะทะฝะธะบะฝัั ะฒะพะฟัะพัั ะฟะพ ัะตะฐะปะธะทะฐัะธะธ, ะพะฑัะฐัะฐะนัะตัั ะบ:
- API ะดะพะบัะผะตะฝัะฐัะธะธ: `/api/training/generate-*`
- ะกััะตััะฒัััะธะผ ะบะพะผะฟะพะฝะตะฝัะฐะผ: `frontend/src/components/`
- ะขะธะฟะฐะผ: `frontend/src/types/index.ts`
