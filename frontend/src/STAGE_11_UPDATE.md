# üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≠—Ç–∞–ø–∞ 11 - –£–ø—Ä–æ—â–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫

## üìù –ò–∑–º–µ–Ω–µ–Ω–∏—è

### ‚úÖ –£–¥–∞–ª–µ–Ω—ã —Å–µ–ª–µ–∫—Ç–æ—Ä—ã —è–∑—ã–∫–æ–≤ –∏–∑ —Ñ–æ—Ä–º—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

**–ü—Ä–∏—á–∏–Ω–∞:** –Ø–∑—ã–∫–∏ —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –≤ –ø—Ä–æ—Ñ–∏–ª–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –Ω–µ—Ç —Å–º—ã—Å–ª–∞ –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å.

---

## üîß –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å

### –î–æ –∏–∑–º–µ–Ω–µ–Ω–∏–π:
```tsx
// –°–æ—Å—Ç–æ—è–Ω–∏–µ —Å —è–∑—ã–∫–∞–º–∏
const [targetLang, setTargetLang] = useState(user?.learning_language || 'en');
const [sourceLang, setSourceLang] = useState(user?.native_language || 'ru');

// UI —Å —Å–µ–ª–µ–∫—Ç–æ—Ä–∞–º–∏ —è–∑—ã–∫–æ–≤
<div className="grid gap-4 sm:grid-cols-2">
  <div className="space-y-2">
    <Label htmlFor="target-lang">–Ø–∑—ã–∫ –∏–∑—É—á–µ–Ω–∏—è</Label>
    <Select value={targetLang} onValueChange={setTargetLang}>
      ...
    </Select>
  </div>
  <div className="space-y-2">
    <Label htmlFor="source-lang">–Ø–∑—ã–∫ –ø–µ—Ä–µ–≤–æ–¥–∞</Label>
    <Select value={sourceLang} onValueChange={setSourceLang}>
      ...
    </Select>
  </div>
</div>
```

### –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:
```tsx
// –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏–∑ –ø—Ä–æ—Ñ–∏–ª—è (–Ω–µ state)
const targetLang = user?.learning_language || 'en';
const sourceLang = user?.native_language || 'ru';

// –¢–æ–ª—å–∫–æ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–æ–ª–æ–¥—ã
<div className="space-y-2">
  <Label htmlFor="deck-name">–ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–ª–æ–¥—ã</Label>
  <Input
    id="deck-name"
    value={deckName}
    onChange={(e) => setDeckName(e.target.value)}
    placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ"
    disabled={isGenerating}
  />
</div>
```

---

## üé® UI –∏–∑–º–µ–Ω–µ–Ω–∏—è

### –ö–∞—Ä—Ç–æ—á–∫–∞ "–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–ª–æ–¥—ã"

**–ë—ã–ª–æ:**
- –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å –∏–∫–æ–Ω–∫–æ–π ‚ú®
- –ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–ª–æ–¥—ã (Input)
- –Ø–∑—ã–∫ –∏–∑—É—á–µ–Ω–∏—è (Select)
- –Ø–∑—ã–∫ –ø–µ—Ä–µ–≤–æ–¥–∞ (Select)

**–°—Ç–∞–ª–æ:**
- –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å –∏–∫–æ–Ω–∫–æ–π ‚ú®
- –ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–ª–æ–¥—ã (Input)

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ë–æ–ª–µ–µ —á–∏—Å—Ç—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- ‚úÖ –ú–µ–Ω—å—à–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- ‚úÖ –ë—ã—Å—Ç—Ä–µ–µ –∑–∞–ø–æ–ª–Ω—è—Ç—å —Ñ–æ—Ä–º—É
- ‚úÖ –Ø–∑—ã–∫–∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –≤ –ø—Ä–æ—Ñ–∏–ª–µ
- ‚úÖ –ú–µ–Ω—å—à–µ –ø—É—Ç–∞–Ω–∏—Ü—ã –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

---

## üîÑ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### –ò—Å—Ç–æ—á–Ω–∏–∫ —è–∑—ã–∫–æ–≤
–Ø–∑—ã–∫–∏ —Ç–µ–ø–µ—Ä—å –±–µ—Ä—É—Ç—Å—è **—Ç–æ–ª—å–∫–æ** –∏–∑ –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

```tsx
const targetLang = user?.learning_language || 'en';
const sourceLang = user?.native_language || 'ru';
```

### Fallback –∑–Ω–∞—á–µ–Ω–∏—è
- **–Ø–∑—ã–∫ –∏–∑—É—á–µ–Ω–∏—è:** `'en'` (–∞–Ω–≥–ª–∏–π—Å–∫–∏–π)
- **–Ø–∑—ã–∫ –ø–µ—Ä–µ–≤–æ–¥–∞:** `'ru'` (—Ä—É—Å—Å–∫–∏–π)

### –ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —è–∑—ã–∫–∏

1. **TranslationTable** - –∑–∞–≥–æ–ª–æ–≤–∫–∏ —Å—Ç–æ–ª–±—Ü–æ–≤:
```tsx
<TranslationTable
  words={extractedWords}
  onTranslationsChange={handleTranslationsChange}
  targetLang={getLanguageName(targetLang)}  // "–ê–Ω–≥–ª–∏–π—Å–∫–∏–π"
  sourceLang={getLanguageName(sourceLang)}  // "–†—É—Å—Å–∫–∏–π"
  disabled={isGenerating}
/>
```

2. **API –∑–∞–ø—Ä–æ—Å** - –ø–∞—Ä–∞–º–µ—Ç—Ä language:
```tsx
await deckService.generateCards({
  words,
  translations: translationsDict,
  language: targetLang,  // "en"
  deck_name: deckName,
});
```

---

## üìä State —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

### –£–¥–∞–ª–µ–Ω—ã:
- ‚ùå `const [targetLang, setTargetLang] = useState(...)`
- ‚ùå `const [sourceLang, setSourceLang] = useState(...)`
- ‚ùå `const languages = [...]` (–º–∞—Å—Å–∏–≤ —è–∑—ã–∫–æ–≤)

### –û—Å—Ç–∞–ª–∏—Å—å:
- ‚úÖ `const [deckName, setDeckName] = useState('–ù–æ–≤–∞—è –∫–æ–ª–æ–¥–∞')`
- ‚úÖ `const [wordsInput, setWordsInput] = useState('')`
- ‚úÖ `const [extractedWords, setExtractedWords] = useState<string[]>([])`
- ‚úÖ `const [translations, setTranslations] = useState<WordTranslationPair[]>([])`
- ‚úÖ `const [isGenerating, setIsGenerating] = useState(false)`
- ‚úÖ `const [showInsufficientTokensModal, setShowInsufficientTokensModal] = useState(false)`

---

## üí° –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ —è–∑—ã–∫–æ–≤
–ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ö–æ—á–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å —è–∑—ã–∫–∏, –æ–Ω –¥–æ–ª–∂–µ–Ω:

1. –ü–µ—Ä–µ–π—Ç–∏ –≤ **–ü—Ä–æ—Ñ–∏–ª—å** (`/profile`)
2. –ò–∑–º–µ–Ω–∏—Ç—å **–Ø–∑—ã–∫ –∏–∑—É—á–µ–Ω–∏—è** –∏/–∏–ª–∏ **–†–æ–¥–Ω–æ–π —è–∑—ã–∫**
3. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
4. –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –≤—Å–µ –Ω–æ–≤—ã–µ –∫–æ–ª–æ–¥—ã –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —è–∑—ã–∫–∏.

### –ê–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö
–Ø–∑—ã–∫–∏ –±–µ—Ä—É—Ç—Å—è –∏–∑ `useAuthContext()`, –∫–æ—Ç–æ—Ä—ã–π –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è:
- –ü—Ä–∏ –≤—Ö–æ–¥–µ –≤ —Å–∏—Å—Ç–µ–º—É
- –ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è
- –ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

---

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### UX
- ‚ö° –ë—ã—Å—Ç—Ä–µ–µ —Å–æ–∑–¥–∞—Ç—å –∫–æ–ª–æ–¥—É
- üéØ –ú–µ–Ω—å—à–µ –æ—Ç–≤–ª–µ–∫–∞—é—â–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- üì± –ú–µ–Ω—å—à–µ —Å–∫—Ä–æ–ª–ª–∏–Ω–≥–∞ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö
- üß† –ú–µ–Ω—å—à–µ –∫–æ–≥–Ω–∏—Ç–∏–≤–Ω–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏

### –õ–æ–≥–∏–∫–∞
- üîí –ï–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã (–ø—Ä–æ—Ñ–∏–ª—å)
- üé® –ß–∏—Å—Ç—ã–π –∫–æ–¥ –±–µ–∑ –ª–∏—à–Ω–µ–≥–æ state
- üêõ –ú–µ–Ω—å—à–µ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –±–∞–≥–æ–≤
- üîÑ –ú–µ–Ω—å—à–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–π

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- üì¶ –ú–µ–Ω—å—à–µ props
- üß© –ü—Ä–æ—â–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- üíæ –ú–µ–Ω—å—à–µ –ø–∞–º—è—Ç–∏
- ‚ö° –ë—ã—Å—Ç—Ä–µ–µ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –°—Ü–µ–Ω–∞—Ä–∏–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:

1. **–°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–ª–æ–¥—ã —Å –¥–µ—Ñ–æ–ª—Ç–Ω—ã–º–∏ —è–∑—ã–∫–∞–º–∏:**
   - –û—Ç–∫—Ä—ã—Ç—å –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
   - –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —è–∑—ã–∫–∏ –≤–∑—è—Ç—ã –∏–∑ –ø—Ä–æ—Ñ–∏–ª—è
   - –°–æ–∑–¥–∞—Ç—å –∫–æ–ª–æ–¥—É
   - ‚úÖ –ö–æ–ª–æ–¥–∞ —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ —è–∑—ã–∫–∞–º–∏

2. **–°–º–µ–Ω–∞ —è–∑—ã–∫–æ–≤ —á–µ—Ä–µ–∑ –ø—Ä–æ—Ñ–∏–ª—å:**
   - –ü–µ—Ä–µ–π—Ç–∏ –≤ –ø—Ä–æ—Ñ–∏–ª—å
   - –ò–∑–º–µ–Ω–∏—Ç—å —è–∑—ã–∫–∏
   - –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é
   - ‚úÖ –ù–æ–≤—ã–µ —è–∑—ã–∫–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã

3. **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —è–∑—ã–∫–æ–≤ –≤ —Ç–∞–±–ª–∏—Ü–µ:**
   - –í–≤–µ—Å—Ç–∏ —Å–ª–æ–≤–∞
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–≥–æ–ª–æ–≤–∫–∏ —Ç–∞–±–ª–∏—Ü—ã
   - ‚úÖ –û—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –Ω–∞–∑–≤–∞–Ω–∏—è —è–∑—ã–∫–æ–≤ –∏–∑ –ø—Ä–æ—Ñ–∏–ª—è

---

## üìù –ò—Ç–æ–≥–∏

**–£–¥–∞–ª–µ–Ω–æ:**
- 2 —Å–µ–ª–µ–∫—Ç–æ—Ä–∞ —è–∑—ã–∫–æ–≤
- 1 –º–∞—Å—Å–∏–≤ —Å —è–∑—ã–∫–∞–º–∏ (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
- 2 state –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- ~50 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞

**–î–æ–±–∞–≤–ª–µ–Ω–æ:**
- 2 –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏–∑ –ø—Ä–æ—Ñ–∏–ª—è
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –æ –∏—Å—Ç–æ—á–Ω–∏–∫–µ —è–∑—ã–∫–æ–≤

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ë–æ–ª–µ–µ —á–∏—Å—Ç—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- ‚úÖ –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞
- ‚úÖ –ï–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –õ—É—á—à–∏–π UX

---

**–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 1 –¥–µ–∫–∞–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û  
**–í–µ—Ä—Å–∏—è:** 1.1
